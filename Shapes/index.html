<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shapes</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            overflow: auto;
            background: #0f0f1f;
            position: relative;
            cursor: crosshair;
        }
        .shape {
            position: absolute;
            opacity: 0.6;
            transition: all 0.15s ease;
            z-index: 1;
        }
        .shape:hover {
            opacity: 1;
            z-index: 2;
        }

        /* Tipos de formas */
        .square { width: 25px; height: 25px; }
        .circle { width: 25px; height: 25px; border-radius: 50%; }
        .triangle {
            width: 0; height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-bottom: 21px solid;
        }
        .diamond {
            width: 25px; height: 25px;
            transform: rotate(45deg);
        }
        .star {
            clip-path: polygon(
                50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 
                50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%
            );
            width: 30px; height: 30px;
        }
    </style>
</head>
<body>
    <script>
        const colors = ['#ff2a6d', '#05d9e8', '#d1d7f4', '#f7f7f7', '#fee800', '#7928ca'];
        const shapes = ['square', 'circle', 'triangle', 'diamond', 'star'];
        const generateRange = 300; // Área alrededor del viewport donde se crean formas

        // Función para crear una forma en posición aleatoria dentro de un rango
        function createShape(minX, maxX, minY, maxY) {
            const shape = document.createElement('div');
            const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            const sizeVariation = Math.random() * 15 + 10; // Tamaños variables

            shape.classList.add('shape', randomShape);
            shape.style.left = `${Math.random() * (maxX - minX) + minX}px`;
            shape.style.top = `${Math.random() * (maxY - minY) + minY}px`;
            
            // Ajustar tamaño y color según la forma
            if (randomShape === 'square' || randomShape === 'diamond' || randomShape === 'star') {
                shape.style.width = `${sizeVariation}px`;
                shape.style.height = `${sizeVariation}px`;
                shape.style.backgroundColor = randomColor;
            } else if (randomShape === 'circle') {
                shape.style.width = `${sizeVariation}px`;
                shape.style.height = `${sizeVariation}px`;
                shape.style.backgroundColor = randomColor;
            } else if (randomShape === 'triangle') {
                shape.style.borderLeftWidth = `${sizeVariation / 2}px`;
                shape.style.borderRightWidth = `${sizeVariation / 2}px`;
                shape.style.borderBottomWidth = `${sizeVariation * 0.85}px`;
                shape.style.borderBottomColor = randomColor;
            }
            document.body.appendChild(shape);
        }

        // Generar formas continuamente al desplazar
        function generateInfiniteShapes() {
            const scrollX = window.scrollX;
            const scrollY = window.scrollY;
            const viewportW = window.innerWidth;
            const viewportH = window.innerHeight;

            // Rango donde se crean nuevas formas (más allá del área visible)
            const minX = scrollX - generateRange;
            const maxX = scrollX + viewportW + generateRange;
            const minY = scrollY - generateRange;
            const maxY = scrollY + viewportH + generateRange;

            // Crear 20 formas cada vez que se ejecuta (mantiene densidad constante)
            for (let i = 0; i < 20; i++) {
                createShape(minX, maxX, minY, maxY);
            }
        }

        // Ejecutar la generación constantemente mientras se desplaza
        let scrollTimer;
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimer);
            // Generar formas inmediatamente y seguir generando mientras se desplaza
            generateInfiniteShapes();
            scrollTimer = setTimeout(generateInfiniteShapes, 50);
        });

        // Generar formas iniciales
        generateInfiniteShapes();
    </script>
</body>
</html>
        /* Tipos de formas */
        .square {
            width: 35px;
            height: 35px;
        }

        .circle {
            width: 35px;
            height: 35px;
            border-radius: 50%;
        }

        .triangle {
            width: 0;
            height: 0;
            border-left: 18px solid transparent;
            border-right: 18px solid transparent;
            border-bottom: 30px solid;
        }

        .rectangle {
            width: 60px;
            height: 30px;
        }

        .hexagon {
            width: 40px;
            height: 23px;
            background-color: currentColor;
            position: relative;
        }
        .hexagon:before, .hexagon:after {
            content: "";
            position: absolute;
            width: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
        }
        .hexagon:before {
            bottom: 100%;
            border-bottom: 11.5px solid currentColor;
        }
        .hexagon:after {
            top: 100%;
            border-top: 11.5px solid currentColor;
        }
    </style>
</head>
<body>
    <script>
        const colors = ['#e94560', '#00b4d8', '#9b5de5', '#f15bb5', '#fee440', '#00f5d4'];
        const shapes = ['square', 'circle', 'triangle', 'rectangle', 'hexagon'];
        const shapeDensity = 80; // Cantidad de formas por cada bloque de área
        const blockSize = 500; // Tamaño del bloque que se repite

        // Función para crear formas en un área específica
        function createShapesInArea(xOffset, yOffset) {
            const container = document.createElement('div');
            container.classList.add('shape-container');
            container.style.left = `${xOffset}px`;
            container.style.top = `${yOffset}px`;

            for (let i = 0; i < shapeDensity; i++) {
                const shape = document.createElement('div');
                const randomShape = shapes[Math.floor(Math.random() * shapes.length)];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                const posX = Math.floor(Math.random() * blockSize);
                const posY = Math.floor(Math.random() * blockSize);

                shape.classList.add('shape', randomShape);
                shape.style.left = `${posX}px`;
                shape.style.top = `${posY}px`;
                
                if (randomShape === 'triangle') {
                    shape.style.borderBottomColor = randomColor;
                } else if (randomShape === 'hexagon') {
                    shape.style.color = randomColor;
                } else {
                    shape.style.backgroundColor = randomColor;
                }

                container.appendChild(shape);
            }

            document.body.appendChild(container);
        }

        // Crear bloques iniciales
        function createInitialBlocks() {
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const blocksX = Math.ceil(viewportWidth / blockSize) + 2;
            const blocksY = Math.ceil(viewportHeight / blockSize) + 2;

            for (let x = -blockSize; x < blocksX * blockSize; x += blockSize) {
                for (let y = -blockSize; y < blocksY * blockSize; y += blockSize) {
                    createShapesInArea(x, y);
                }
            }
        }

        // Crear nuevos bloques al hacer scroll
        window.addEventListener('scroll', () => {
            const scrollX = window.scrollX;
            const scrollY = window.scrollY;
            const currentBlockX = Math.floor(scrollX / blockSize) * blockSize;
            const currentBlockY = Math.floor(scrollY / blockSize) * blockSize;

            // Crear bloques alrededor de la posición actual
            for (let x = currentBlockX - blockSize; x <= currentBlockX + (2 * blockSize); x += blockSize) {
                for (let y = currentBlockY - blockSize; y <= currentBlockY + (2 * blockSize); y += blockSize) {
                    // Verificar si el bloque ya existe
                    const existing = document.querySelector(`.shape-container[style*="left: ${x}px"][style*="top: ${y}px"]`);
                    if (!existing) {
                        createShapesInArea(x, y);
                    }
                }
            }

            // Eliminar bloques que están muy lejos para no sobrecargar
            const containers = document.querySelectorAll('.shape-container');
            containers.forEach(container => {
                const left = parseInt(container.style.left);
                const top = parseInt(container.style.top);
                if (left < scrollX - (3 * blockSize) || left > scrollX + (3 * blockSize) ||
                    top < scrollY - (3 * blockSize) || top > scrollY + (3 * blockSize)) {
                    container.remove();
                }
            });
        });

        // Inicializar
        createInitialBlocks();
    </script>
</body>
</html>
        }

        .circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .triangle {
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 35px solid;
        }
    </style>
</head>
<body>
    <script>
        // Colores aleatorios para las formas
        const colors = ['#ff6b6b', '#4ecdc4', '#ffe066', '#1a535c', '#ff8a80', '#6a89cc'];
        const shapes = ['square', 'circle', 'triangle'];
        const totalShapes = 200; // Cantidad de formas iniciales

        // Función para generar posición aleatoria
        function getRandomPos(max) {
            return Math.floor(Math.random() * max);
        }

        // Crear formas iniciales
        function createShapes() {
            const body = document.body;
            const maxWidth = body.scrollWidth;
            const maxHeight = body.scrollHeight;

            for (let i = 0; i < totalShapes; i++) {
                const shape = document.createElement('div');
                const randomShape = shapes[getRandomPos(shapes.length)];
                const randomColor = colors[getRandomPos(colors.length)];

                shape.classList.add('shape', randomShape);
                shape.style.left = `${getRandomPos(maxWidth)}px`;
                shape.style.top = `${getRandomPos(maxHeight)}px`;
                shape.style.backgroundColor = randomShape !== 'triangle' ? randomColor : 'transparent';
                shape.style.borderBottomColor = randomShape === 'triangle' ? randomColor : 'transparent';
                
                body.appendChild(shape);
            }
        }

        // Generar nuevas formas al hacer scroll
        window.addEventListener('scroll', () => {
            const scrollX = window.scrollX;
            const scrollY = window.scrollY;
            const body = document.body;

            // Ajustar tamaño del body según scroll
            body.style.minWidth = `${window.innerWidth + scrollX + 500}px`;
            body.style.minHeight = `${window.innerHeight + scrollY + 500}px`;

            // Crear nuevas formas cada cierto scroll
            if (Math.floor(scrollX + scrollY) % 300 === 0) {
                const newShape = document.createElement('div');
                const randomShape = shapes[getRandomPos(shapes.length)];
                const randomColor = colors[getRandomPos(colors.length)];

                newShape.classList.add('shape', randomShape);
                newShape.style.left = `${getRandomPos(body.scrollWidth)}px`;
                newShape.style.top = `${getRandomPos(body.scrollHeight)}px`;
                newShape.style.backgroundColor = randomShape !== 'triangle' ? randomColor : 'transparent';
                newShape.style.borderBottomColor = randomShape === 'triangle' ? randomColor : 'transparent';
                
                body.appendChild(newShape);
            }
        });

        // Inicializar
        createShapes();
    </script>
</body>
</html>
